"use strict";(self.webpackChunkfresh_cart=self.webpackChunkfresh_cart||[]).push([[3624],{33624:function(e,t,i){i.d(t,{W:function(){return p}});var n=i(1413),s=i(37762),o=i(15671),r=i(43144),l=i(11752),h=i(61120),a=i(60136),u=i(29388),d=i(23588),c=i(41978),f=i(87422),v=i(3453),p=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){var e;return(0,o.Z)(this,i),(e=t.apply(this,arguments))._childrenSet=new Set,e._needsSort=!1,e.children=[],e._effectView=null,e._highlightOptions=null,e._highlightGradient=null,e}return(0,r.Z)(i,[{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e,this.requestRender()}},{key:"clips",get:function(){return this._clips},set:function(e){this._clips=e,this.children.forEach((function(t){return t.clips=e}))}},{key:"computedEffects",get:function(){var e,t;return null!==(e=null===(t=this._effectView)||void 0===t?void 0:t.effects)&&void 0!==e?e:null}},{key:"effect",get:function(){var e,t;return null!==(e=null===(t=this._effectView)||void 0===t?void 0:t.effect)&&void 0!==e?e:""},set:function(e){(this._effectView||e)&&(this._effectView||(this._effectView=new c.AM),this._effectView.effect=e,this.requestRender())}},{key:"highlightOptions",get:function(){return this._highlightOptions},set:function(e){if(!e)return this._highlightOptions=null,void(this._highlightGradient&&(this._highlightGradient.destroy(),this._highlightGradient=null,this.requestRender()));this._highlightOptions&&this._highlightOptions.equals(e)||(this._highlightOptions=e,this._highlightGradient||(this._highlightGradient=new v.Z),this._highlightGradient.setHighlightOptions(e),this.requestRender())}},{key:"updateTransitionProperties",value:function(e,t){(0,l.Z)((0,h.Z)(i.prototype),"updateTransitionProperties",this).call(this,e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}},{key:"doRender",value:function(e){var t=this.createRenderParams(e);this.renderChildren(t)}},{key:"addChild",value:function(e){return this.addChildAt(e,this.children.length)}},{key:"addChildAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length;if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;var i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}},{key:"contains",value:function(e){return this._childrenSet.has(e)}},{key:"endTransitions",value:function(){(0,l.Z)((0,h.Z)(i.prototype),"endTransitions",this).call(this),this._effectView&&(this._effectView.endTransitions(),this.requestRender())}},{key:"removeAllChildren",value:function(){this._childrenSet.clear(),this._needsSort=!0;var e,t=(0,s.Z)(this.children);try{for(t.s();!(e=t.n()).done;){var i=e.value;this!==this.stage&&(i.clips=null),i.stage=null,i.parent=null}}catch(n){t.e(n)}finally{t.f()}this.children.length=0}},{key:"removeChild",value:function(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}},{key:"removeChildAt",value:function(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;var t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}},{key:"sortChildren",value:function(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}},{key:"beforeRender",value:function(e){(0,l.Z)((0,h.Z)(i.prototype),"beforeRender",this).call(this,e);var t,n=(0,s.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.beforeRender(e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"afterRender",value:function(e){(0,l.Z)((0,h.Z)(i.prototype),"afterRender",this).call(this,e);var t,n=(0,s.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.afterRender(e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"_createTransforms",value:function(){return{dvs:(0,d.c)()}}},{key:"onAttach",value:function(){(0,l.Z)((0,h.Z)(i.prototype),"onAttach",this).call(this);var e,t=this.stage,n=(0,s.Z)(this.children);try{for(n.s();!(e=n.n()).done;){e.value.stage=t}}catch(o){n.e(o)}finally{n.f()}}},{key:"onDetach",value:function(){(0,l.Z)((0,h.Z)(i.prototype),"onDetach",this).call(this);var e,t=(0,s.Z)(this.children);try{for(t.s();!(e=t.n()).done;){e.value.stage=null}}catch(n){t.e(n)}finally{t.f()}}},{key:"renderChildren",value:function(e){var t,i=(0,s.Z)(this.children);try{for(i.s();!(t=i.n()).done;){t.value.processRender(e)}}catch(n){i.e(n)}finally{i.f()}}},{key:"createRenderParams",value:function(e){return(0,n.Z)((0,n.Z)({},e),{},{blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition,highlightGradient:this._highlightGradient||e.highlightGradient})}}]),i}(f.s)},87422:function(e,t,i){i.d(t,{s:function(){return c}});var n=i(15671),s=i(43144),o=i(60136),r=i(29388),l=i(91505),h=i(93169),a=i(92026),u=i(66978),d=1/(0,h.Z)("mapview-transitions-duration"),c=function(e){(0,o.Z)(i,e);var t=(0,r.Z)(i);function i(){var e;return(0,n.Z)(this,i),(e=t.apply(this,arguments))._fadeOutResolver=null,e._fadeInResolver=null,e._clips=null,e.computedVisible=!0,e.computedOpacity=1,e.fadeTransitionEnabled=!1,e.inFadeTransition=!1,e._isReady=!1,e._opacity=1,e.parent=null,e._stage=null,e._visible=!0,e}return(0,s.Z)(i,[{key:"clips",get:function(){return this._clips},set:function(e){this._clips=e,this.requestRender()}},{key:"isReady",get:function(){return this._isReady}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}},{key:"stage",get:function(){return this._stage},set:function(e){var t;if(this._stage!==e){var i=this._stage;this._stage=e,e?(null===(t=this._stage)||void 0===t?void 0:t.untrashDisplayObject(this))||(this.onAttach(),this.emit("attach")):null===i||void 0===i||i.trashDisplayObject(this)}}},{key:"transforms",get:function(){return this._getTransforms()}},{key:"_getTransforms",value:function(){return(0,a.Wi)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.requestRender())}},{key:"fadeIn",value:function(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.opacity=1,this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,u.hh)(),this.requestRender()),this._fadeInResolver.promise}},{key:"fadeOut",value:function(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,u.hh)(),this.requestRender()),this._fadeOutResolver.promise}},{key:"endTransitions",value:function(){var e,t;null!==(e=this._fadeInResolver)&&void 0!==e&&e.call(this),this._fadeInResolver=null,null!==(t=this._fadeOutResolver)&&void 0!==t&&t.call(this),this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0,this.requestRender()}},{key:"beforeRender",value:function(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}},{key:"afterRender",value:function(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}},{key:"remove",value:function(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}},{key:"setTransform",value:function(e){}},{key:"processRender",value:function(e){this.stage&&this.computedVisible&&this.doRender(e)}},{key:"requestRender",value:function(){this.stage&&this.stage.requestRender()}},{key:"processDetach",value:function(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}},{key:"updateTransitionProperties",value:function(e,t){if(this.fadeTransitionEnabled){var i=this._fadeOutResolver||!this.visible?0:this.opacity,n=this.computedOpacity;if(n===i)this.computedVisible=this.visible;else{var s=e*d;this.computedOpacity=n>i?Math.max(i,n-s):Math.min(i,n+s),this.computedVisible=this.computedOpacity>0;var o=i===this.computedOpacity;this.inFadeTransition=!o,o||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}},{key:"onAttach",value:function(){}},{key:"onDetach",value:function(){}},{key:"doRender",value:function(e){}},{key:"ready",value:function(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}]),i}(l.Z)},3453:function(e,t,i){i.d(t,{Z:function(){return f}});var n=i(29439),s=i(15671),o=i(43144),r=i(32718),l=i(94109),h=i(17615),a=i(8548),u=i(371),d=r.Z.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");var c=[0,0,0,0],f=function(){function e(){(0,s.Z)(this,e),this._convertedHighlightOptions={fillColor:[.2*.75,.6*.75,.675,.75],outlineColor:[.2*.9,.54,.81,.9],outlinePosition:h.OQ.outlinePosition,outlineWidth:h.OQ.outlineWidth,innerHaloWidth:h.OQ.innerHaloWidth,outerHaloWidth:h.OQ.outerHaloWidth},this._shadeTexChanged=!0,this._texelData=new Uint8Array(4*h.Ft),this._minMaxDistance=[0,0]}return(0,o.Z)(e,[{key:"setHighlightOptions",value:function(e){var t=this._convertedHighlightOptions;!function(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=h.OQ.outlineWidth,t.outerHaloWidth=h.OQ.outerHaloWidth,t.innerHaloWidth=h.OQ.innerHaloWidth,t.outlinePosition=h.OQ.outlinePosition}(e,t);var i,s=t.outlinePosition-t.outlineWidth/2-t.outerHaloWidth,o=t.outlinePosition-t.outlineWidth/2,r=t.outlinePosition+t.outlineWidth/2,l=t.outlinePosition+t.outlineWidth/2+t.innerHaloWidth,a=Math.sqrt(Math.PI/2)*h.tM,u=Math.abs(s)>a?Math.round(10*(Math.abs(s)-a))/10:0,f=Math.abs(l)>a?Math.round(10*(Math.abs(l)-a))/10:0;u&&!f?d.error("The outer rim of the highlight is "+u+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!u&&f?d.error("The inner rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):u&&f&&d.error("The highlight is "+Math.max(u,f)+"px away from the edge of the feature; consider reducing some width values.");var v=[void 0,void 0,void 0,void 0];function p(e,t,i){v[0]=(1-i)*e[0]+i*t[0],v[1]=(1-i)*e[1]+i*t[1],v[2]=(1-i)*e[2]+i*t[2],v[3]=(1-i)*e[3]+i*t[3]}for(var _=this._texelData,g=0;g<h.Ft;++g){var y,R,m,C;(i=s+g/(h.Ft-1)*(l-s))<s?(v[4*g+0]=0,v[4*g+1]=0,v[4*g+2]=0,v[4*g+3]=0):i<o?p(c,t.outlineColor,(i-s)/(o-s)):i<r?(y=t.outlineColor,R=(0,n.Z)(y,4),v[0]=R[0],v[1]=R[1],v[2]=R[2],v[3]=R[3]):i<l?p(t.outlineColor,t.fillColor,(i-r)/(l-r)):(m=t.fillColor,C=(0,n.Z)(m,4),v[4*g+0]=C[0],v[4*g+1]=C[1],v[4*g+2]=C[2],v[4*g+3]=C[3]),_[4*g+0]=255*v[0],_[4*g+1]=255*v[1],_[4*g+2]=255*v[2],_[4*g+3]=255*v[3]}this._minMaxDistance[0]=s,this._minMaxDistance[1]=l,this._shadeTexChanged=!0}},{key:"applyHighlightOptions",value:function(e,t){this._shadeTex||(this._shadeTex=new u.x(e,{target:a.No.TEXTURE_2D,pixelFormat:a.VI.RGBA,dataType:a.Br.UNSIGNED_BYTE,wrapMode:a.e8.CLAMP_TO_EDGE,width:h.Ft,height:1,samplingMode:a.cw.LINEAR})),this._shadeTexChanged&&(this._shadeTex.updateData(0,0,0,h.Ft,1,this._texelData),this._shadeTexChanged=!1),e.bindTexture(this._shadeTex,l.Jw),t.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}},{key:"destroy",value:function(){var e;null!==(e=this._shadeTex)&&void 0!==e&&e.dispose(),this._shadeTex=null}}]),e}()},17615:function(e,t,i){i.d(t,{Ft:function(){return r},OQ:function(){return l},QU:function(){return o},n5:function(){return s},tM:function(){return n}});var n=1,s=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r=256,l={outlineWidth:1.3,outerHaloWidth:.4,innerHaloWidth:.4,outlinePosition:0}}}]);
//# sourceMappingURL=3624.09aaeb81.chunk.js.map